                                                                  HTTP Proxy-Status

   Created
           2021-10-22

   Last Updated
           2021-10-22

   Available Formats
           [IMG]
           XML [IMG]
           HTML [IMG]
           Plain text

   Registries included below

     * HTTP Proxy-Status Parameters
     * HTTP Proxy Error Types

HTTP Proxy-Status Parameters

   Registration Procedure(s)

 Expert Review

   Expert(s)

 Unassigned

   Reference
           [RFC-ietf-httpbis-proxy-status-08]

   Available Formats
           [IMG]
           CSV

        Name                                                Description                                                      Reference
   error           The error parameter's value is an sf-token that is a Proxy Error Type. When present, it       [RFC-ietf-httpbis-proxy-status-08]
                   indicates that the intermediary encountered an issue when obtaining this response.
                   The next-hop parameter's value is an sf-string or sf-token that identifies the intermediary
   next-hop        or origin server selected (and used, if contacted) to obtain this response. It might be a     [RFC-ietf-httpbis-proxy-status-08]
                   hostname, IP address, or alias.
   next-protocol   The next-protocol parameter's value indicates the ALPN protocol identifier [RFC7301] of the   [RFC-ietf-httpbis-proxy-status-08]
                   protocol used by the intermediary to connect to the next hop when obtaining this response.
   received-status The received-status parameter's value indicates the HTTP status code that the intermediary    [RFC-ietf-httpbis-proxy-status-08]
                   received from the next hop server when obtaining this response.
   details         The details parameter's value is an sf-string containing additional information not captured  [RFC-ietf-httpbis-proxy-status-08]
                   anywhere else. This can include implementation-specific or deployment-specific information.

HTTP Proxy Error Types

   Registration Procedure(s)

 Expert Review

   Expert(s)

 Unassigned

   Reference
           [RFC-ietf-httpbis-proxy-status-08]

   Available Formats
           [IMG]
           CSV

                                                                         Recommended Response Only
               Name                  Description     Extra Parameters    HTTP Status  Generated by              Reference                    Notes
                                                                            Code     Intermediaries
                                   The
                                   intermediary
                                   encountered a
dns_timeout                        timeout when    None                  504         true           [RFC-ietf-httpbis-proxy-status-08]
                                   trying to find
                                   an IP address
                                   for the next
                                   hop hostname.
                                                   - rcode: A sf-string
                                   The             conveying the DNS
                                   intermediary    RCODE that indicates
                                   encountered a   the error type. See
                                   DNS error when  [RFC8499], Section 3.
dns_error                          trying to find                        502         true           [RFC-ietf-httpbis-proxy-status-08]
                                   an IP address   - info-code: A
                                   for the next    sf-integer conveying
                                   hop hostname.   the Extended DNS
                                                   Error Code info-code.
                                                   See [RFC8914].
                                   The
                                   intermediary
                                   cannot
                                   determine the
                                   appropriate
                                   next hop to use
                                   for this
                                   request; for
                                   example, it may
                                   not be
                                   configured.
                                   Note that this
                                   error is
destination_not_found              specific to     None                  500         true           [RFC-ietf-httpbis-proxy-status-08]
                                   gateways, which
                                   typically
                                   require
                                   specific
                                   configuration
                                   to identify the
                                   "backend"
                                   server; forward
                                   proxies use
                                   in-band
                                   information to
                                   identify the
                                   origin server.
                                   The
                                   intermediary
                                   considers the
                                   next hop to be
                                   unavailable;
                                   e.g., recent
destination_unavailable            attempts to     None                  503         true           [RFC-ietf-httpbis-proxy-status-08]
                                   communicate
                                   with it may
                                   have failed, or
                                   a health check
                                   may indicate
                                   that it is
                                   down.
                                   The
                                   intermediary is
                                   configured to
destination_ip_prohibited          prohibit        None                  502         true           [RFC-ietf-httpbis-proxy-status-08]
                                   connections to
                                   the next hop IP
                                   address.
                                   The
                                   intermediary
destination_ip_unroutable          cannot find a   None                  502         true           [RFC-ietf-httpbis-proxy-status-08]
                                   route to the
                                   next hop IP
                                   address.
                                   The
                                   intermediary's
connection_refused                 connection to   None                  502         true           [RFC-ietf-httpbis-proxy-status-08]
                                   the next hop
                                   was refused.
                                   The
                                   intermediary's
                                   connection to
connection_terminated              the next hop    None                  502         false          [RFC-ietf-httpbis-proxy-status-08]
                                   was closed
                                   before complete
                                   response was
                                   received.
                                   The
                                   intermediary's
connection_timeout                 attempt to open None                  504         true           [RFC-ietf-httpbis-proxy-status-08]
                                   a connection to
                                   the next hop
                                   timed out.
                                   The
                                   intermediary
                                   was expecting
                                   data on a
                                   connection
connection_read_timeout            (e.g., part of  None                  504         false          [RFC-ietf-httpbis-proxy-status-08]
                                   a response),
                                   but did not
                                   receive any new
                                   data in a
                                   configured time
                                   limit.
                                   The
                                   intermediary
                                   was attempting
                                   to write data
connection_write_timeout           to a            None                  504         false          [RFC-ietf-httpbis-proxy-status-08]
                                   connection, but
                                   was not able to
                                   (e.g., because
                                   its buffers
                                   were full).
                                   The
                                   intermediary is
                                   configured to
                                   limit the
connection_limit_reached           number of       None                  503         true           [RFC-ietf-httpbis-proxy-status-08]
                                   connections it
                                   has to the next
                                   hop, and that
                                   limit has been
                                   passed.
                                   The
                                   intermediary
                                   encountered a
                                   TLS error when                                                                                      Not appropriate
tls_protocol_error                 communicating   None                  502         false          [RFC-ietf-httpbis-proxy-status-08] when a TLS alert
                                   with the next                                                                                       is received; see
                                   hop, either                                                                                         tls_alert_received
                                   during
                                   handshake or
                                   afterwards.
                                   The
                                   intermediary
                                   encountered an
tls_certificate_error              error when      None                  502         true           [RFC-ietf-httpbis-proxy-status-08]
                                   verifying the
                                   certificate
                                   presented by
                                   the next hop.
                                                   - alert-id: an
                                                   sf-integer containing
                                                   the applicable value
                                                   from the [TLS Alerts
                                                   registry]. See
                                   The             [RFC8446].
                                   intermediary
tls_alert_received                 received a TLS  - alert-message: an   502         false          [RFC-ietf-httpbis-proxy-status-08]
                                   alert from the  sf-token or sf-string
                                   next hop.       containing the
                                                   applicable
                                                   description string
                                                   from the [TLS Alerts
                                                   registry]. See
                                                   [RFC8446].
                                   The
                                   intermediary is
                                   generating a
                                   client (4xx)    - status-code: an
                                   response on the sf-integer containing                                                               This type helps
                                   origin's        the generated status                                                                distinguish
                                   behalf.         code.                 The                                                           between responses
http_request_error                 Applicable                            applicable  true           [RFC-ietf-httpbis-proxy-status-08] generated by
                                   status codes    - status-phrase: an   4xx status                                                    intermediaries
                                   include (but    sf-string containing  code                                                          from those
                                   are not limited the generated status                                                                generated by the
                                   to) 400, 403,   phrase.                                                                             origin.
                                   405, 406, 408,
                                   411, 413, 414,
                                   415, 416, 417,
                                   429.
                                   The
                                   intermediary
                                   rejected the
                                   HTTP request
                                   based on its
http_request_denied                configuration   None                  403         true           [RFC-ietf-httpbis-proxy-status-08]
                                   and/or policy
                                   settings. The
                                   request wasn't
                                   forwarded to
                                   the next hop.
                                   The
                                   intermediary
                                   received an
http_response_incomplete           incomplete      None                  502         false          [RFC-ietf-httpbis-proxy-status-08]
                                   response to the
                                   request from
                                   the next hop.
                                                   -
                                   The             header-section-size:
                                   intermediary    an sf-integer
                                   received a      indicating how large
                                   response to the the headers received
http_response_header_section_size  request whose   were. Note that they  502         false          [RFC-ietf-httpbis-proxy-status-08]
                                   header section  might not be
                                   was considered  complete; i.e., the
                                   too large.      intermediary may have
                                                   discarded or refused
                                                   additional data.
                                   The             - header-name: an
                                   intermediary    sf-string indicating
                                   received a      the name of the
                                   response to the header field that
                                   request         triggered the error.
http_response_header_size          containing an                         502         false          [RFC-ietf-httpbis-proxy-status-08]
                                   individual      - header-size: an
                                   header field    sf-integer indicating
                                   line that was   the size of the
                                   considered too  header field that
                                   large.          triggered the error.
                                                   - body-size: an
                                   The             sf-integer indicating
                                   intermediary    how large the body
                                   received a      received was. Note
http_response_body_size            response to the that it may not have  502         false          [RFC-ietf-httpbis-proxy-status-08]
                                   request whose   been complete; i.e.,
                                   body was        the intermediary may
                                   considered too  have discarded or
                                   large.          refused additional
                                                   data.
                                                   -
                                   The             trailer-section-size:
                                   intermediary    an sf-integer
                                   received a      indicating how large
                                   response to the the trailers received
http_response_trailer_section_size request whose   were. Note that they  502         false          [RFC-ietf-httpbis-proxy-status-08]
                                   trailer section might not be
                                   was considered  complete; i.e., the
                                   too large.      intermediary may have
                                                   discarded or refused
                                                   additional data.
                                   The             - trailer-name: an
                                   intermediary    sf-string indicating
                                   received a      the name of the
                                   response to the trailer field that
                                   request         triggered the error.
http_response_trailer_size         containing an                         502         false          [RFC-ietf-httpbis-proxy-status-08]
                                   individual      - trailer-size: an
                                   trailer field   sf-integer indicating
                                   line that was   the size of the
                                   considered too  trailer field that
                                   large.          triggered the error.
                                   The             - coding: an sf-token
                                   intermediary    containing the
                                   encountered an  specific coding (from
http_response_transfer_coding      error decoding  the [HTTP Transfer    502         false          [RFC-ietf-httpbis-proxy-status-08]
                                   the             Coding Registry])
                                   transfer-coding that caused the
                                   of the          error.
                                   response.
                                   The             - coding: an sf-token
                                   intermediary    containing the
                                   encountered an  specific coding (from
http_response_content_coding       error decoding  the [HTTP Content     502         false          [RFC-ietf-httpbis-proxy-status-08]
                                   the             Coding Registry])
                                   content-coding  that caused the
                                   of the          error.
                                   response.
                                   The
                                   intermediary
                                   reached a
http_response_timeout              configured time None                  504         false          [RFC-ietf-httpbis-proxy-status-08]
                                   limit waiting
                                   for the
                                   complete
                                   response.
                                   The HTTP
                                   Upgrade between
http_upgrade_failed                the             None                  502         true           [RFC-ietf-httpbis-proxy-status-08]
                                   intermediary
                                   and the next
                                   hop failed.
                                   The
                                   intermediary
                                   encountered a
                                   HTTP protocol
                                   error when
                                   communicating
http_protocol_error                with the next   None                  502         false          [RFC-ietf-httpbis-proxy-status-08]
                                   hop. This error
                                   should only be
                                   used when a
                                   more specific
                                   one is not
                                   defined.
                                   The
                                   intermediary
                                   generated the
                                   response
                                   locally,
                                   without                               The most
                                   attempting to                         appropriate
proxy_internal_response            connect to the  None                  status code true           [RFC-ietf-httpbis-proxy-status-08]
                                   next hop (e.g.                        for the
                                   in response to                        response
                                   a request to a
                                   debug endpoint
                                   terminated at
                                   the
                                   intermediary).
                                   The
                                   intermediary
proxy_internal_error               encountered an  None                  500         true           [RFC-ietf-httpbis-proxy-status-08]
                                   internal error
                                   unrelated to
                                   the origin.
                                   The
                                   intermediary
proxy_configuration_error          encountered an  None                  500         true           [RFC-ietf-httpbis-proxy-status-08]
                                   error regarding
                                   its
                                   configuration.
                                   The
                                   intermediary
                                   tried to
                                   forward the
                                   request to
proxy_loop_detected                itself, or a    None                  502         true           [RFC-ietf-httpbis-proxy-status-08]
                                   loop has been
                                   detected using
                                   different means
                                   (e.g.
                                   [RFC8586]).
